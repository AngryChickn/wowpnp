/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
;!function(f,d,c){var h=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||function(a){f.setTimeout(a,1000/60)},g=function(){var l={},k=d.createElement("div").style,e=function(){for(var n=["t","webkitT","MozT","msT","OT"],m=0,a=n.length;m<a;m++){if(n[m]+"ransform" in k){return n[m].substr(0,n[m].length-1)}}return !1}();function i(a){return !1!==e&&(""===e?a:e+a.charAt(0).toUpperCase()+a.substr(1))}l.getTime=Date.now||function(){return(new Date).getTime()},l.extend=function(n,m){for(var a in m){n[a]=m[a]}},l.addEvent=function(o,m,a,p){o.addEventListener(m,a,!!p)},l.removeEvent=function(o,m,a,p){o.removeEventListener(m,a,!!p)},l.prefixPointerEvent=function(a){return f.MSPointerEvent?"MSPointer"+a.charAt(9).toUpperCase()+a.substr(10):a},l.momentum=function(w,A,q,p,y,B){var m,v,x=w-A,z=c.abs(x)/q;return v=z/(B=void 0===B?0.0006:B),(m=w+z*z/(2*B)*(x<0?-1:1))<p?(m=y?p-y/2.5*(z/8):p,v=(x=c.abs(m-w))/z):m>0&&(m=y?y/2.5*(z/8):0,v=(x=c.abs(w)+m)/z),{destination:c.round(m),duration:v}};var j=i("transform");return l.extend(l,{hasTransform:!1!==j,hasPerspective:i("perspective") in k,hasTouch:"ontouchstart" in f,hasPointer:f.PointerEvent||f.MSPointerEvent,hasTransition:i("transition") in k}),l.isBadAndroid=/Android /.test(f.navigator.appVersion)&&!/Chrome\/\d/.test(f.navigator.appVersion),l.extend(l.style={},{transform:j,transitionTimingFunction:i("transitionTimingFunction"),transitionDuration:i("transitionDuration"),transitionDelay:i("transitionDelay"),transformOrigin:i("transformOrigin")}),l.hasClass=function(m,a){return new RegExp("(^|\\s)"+a+"(\\s|$)").test(m.className)},l.addClass=function(n,m){if(!l.hasClass(n,m)){var a=n.className.split(" ");a.push(m),n.className=a.join(" ")}},l.removeClass=function(n,m){if(l.hasClass(n,m)){var a=new RegExp("(^|\\s)"+m+"(\\s|$)","g");n.className=n.className.replace(a," ")}},l.offset=function(n){for(var m=-n.offsetLeft,a=-n.offsetTop;n=n.offsetParent;){m-=n.offsetLeft,a-=n.offsetTop}return{left:m,top:a}},l.preventDefaultException=function(n,m){for(var a in m){if(m[a].test(n[a])){return !0}}return !1},l.extend(l.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),l.extend(l.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){return(a-=1)*a*(5*a+4)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}},elastic:{style:"",fn:function(a){return 0===a?0:1==a?1:0.4*c.pow(2,-10*a)*c.sin((a-0.055)*(2*c.PI)/0.22)+1}}}),l.tap=function(m,a){var o=d.createEvent("Event");o.initEvent(a,!0,!0),o.pageX=m.pageX,o.pageY=m.pageY,m.target.dispatchEvent(o)},l.click=function(m){var a,o=m.target;/(SELECT|INPUT|TEXTAREA)/i.test(o.tagName)||((a=d.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,m.view,1,o.screenX,o.screenY,o.clientX,o.clientY,m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,0,null),a._constructed=!0,o.dispatchEvent(a))},l}();function b(j,a){this.wrapper="string"==typeof j?d.querySelector(j):j,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var k in a){this.options[k]=a[k]}this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"",this.options.useTransition=g.hasTransition&&this.options.useTransition,this.options.useTransform=g.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}b.prototype={version:"5.1.3",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(i){if((1==g.eventType[i.type]||0===i.button)&&this.enabled&&(!this.initiated||g.eventType[i.type]===this.initiated)){!this.options.preventDefault||g.isBadAndroid||g.preventDefaultException(i.target,this.options.preventDefaultException)||i.preventDefault();var a,j=i.touches?i.touches[0]:i;this.initiated=g.eventType[i.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=g.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,a=this.getComputedPosition(),this._translate(c.round(a.x),c.round(a.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=j.pageX,this.pointY=j.pageY,this._execEvent("beforeScrollStart")}},_move:function(m){if(this.enabled&&g.eventType[m.type]===this.initiated){this.options.preventDefault&&m.preventDefault();var v,j,p,w,i=m.touches?m.touches[0]:m,k=i.pageX-this.pointX,o=i.pageY-this.pointY,q=g.getTime();if(this.pointX=i.pageX,this.pointY=i.pageY,this.distX+=k,this.distY+=o,p=c.abs(this.distX),w=c.abs(this.distY),!(q-this.endTime>300&&p<10&&w<10)){if(this.directionLocked||this.options.freeScroll||(p>w+this.options.directionLockThreshold?this.directionLocked="h":w>=p+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough){m.preventDefault()}else{if("horizontal"==this.options.eventPassthrough){return void (this.initiated=!1)}}o=0}else{if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough){m.preventDefault()}else{if("vertical"==this.options.eventPassthrough){return void (this.initiated=!1)}}k=0}}k=this.hasHorizontalScroll?k:0,o=this.hasVerticalScroll?o:0,v=this.x+k,j=this.y+o,(v>0||v<this.maxScrollX)&&(v=this.options.bounce?this.x+k/3:v>0?0:this.maxScrollX),(j>0||j<this.maxScrollY)&&(j=this.options.bounce?this.y+o/3:j>0?0:this.maxScrollY),this.directionX=k>0?-1:k<0?1:0,this.directionY=o>0?-1:o<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(v,j),q-this.startTime>300&&(this.startTime=q,this.startX=this.x,this.startY=this.y)}}},_end:function(p){if(this.enabled&&g.eventType[p.type]===this.initiated){this.options.preventDefault&&!g.preventDefaultException(p.target,this.options.preventDefaultException)&&p.preventDefault();p.changedTouches&&p.changedTouches[0];var x,j,v=g.getTime()-this.startTime,y=c.round(this.x),i=c.round(this.y),o=c.abs(y-this.startX),q=c.abs(i-this.startY),w=0,k="";if(this.isInTransition=0,this.initiated=0,this.endTime=g.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(y,i),!this.moved){return this.options.tap&&g.tap(p,this.options.tap),this.options.click&&g.click(p),void this._execEvent("scrollCancel")}if(this._events.flick&&v<200&&o<100&&q<100){this._execEvent("flick")}else{if(this.options.momentum&&v<300&&(x=this.hasHorizontalScroll?g.momentum(this.x,this.startX,v,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:y,duration:0},j=this.hasVerticalScroll?g.momentum(this.y,this.startY,v,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:i,duration:0},y=x.destination,i=j.destination,w=c.max(x.duration,j.duration),this.isInTransition=1),y!=this.x||i!=this.y){return(y>0||y<this.maxScrollX||i>0||i<this.maxScrollY)&&(k=g.ease.quadratic),void this.scrollTo(y,i,w,k)}this._execEvent("scrollEnd")}}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(k){var j=this.x,a=this.y;return k=k||0,!this.hasHorizontalScroll||this.x>0?j=0:this.x<this.maxScrollX&&(j=this.maxScrollX),!this.hasVerticalScroll||this.y>0?a=0:this.y<this.maxScrollY&&(a=this.maxScrollY),(j!=this.x||a!=this.y)&&(this.scrollTo(j,a,k,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=g.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(i,a){this._events[i]||(this._events[i]=[]),this._events[i].push(a)},off:function(k,j){if(this._events[k]){var a=this._events[k].indexOf(j);a>-1&&this._events[k].splice(a,1)}},_execEvent:function(k){if(this._events[k]){var j=0,a=this._events[k].length;if(a){for(;j<a;j++){this._events[k][j].apply(this,[].slice.call(arguments,1))}}}},scrollBy:function(k,j,a,l){k=this.x+k,j=this.y+j,a=a||0,this.scrollTo(k,j,a,l)},scrollTo:function(k,j,a,l){l=l||g.ease.circular,this.isInTransition=this.options.useTransition&&a>0,!a||this.options.useTransition&&l.style?(this._transitionTimingFunction(l.style),this._transitionTime(a),this._translate(k,j)):this._animate(k,j,a,l.fn)},scrollToElement:function(m,j,o,i,k){if(m=m.nodeType?m:this.scroller.querySelector(m)){var l=g.offset(m);l.left-=this.wrapperOffset.left,l.top-=this.wrapperOffset.top,!0===o&&(o=c.round(m.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===i&&(i=c.round(m.offsetHeight/2-this.wrapper.offsetHeight/2)),l.left-=o||0,l.top-=i||0,l.left=l.left>0?0:l.left<this.maxScrollX?this.maxScrollX:l.left,l.top=l.top>0?0:l.top<this.maxScrollY?this.maxScrollY:l.top,j=void 0===j||null===j||"auto"===j?c.max(c.abs(this.x-l.left),c.abs(this.y-l.top)):j,this.scrollTo(l.left,l.top,j,k)}},_transitionTime:function(a){a=a||0,this.scrollerStyle[g.style.transitionDuration]=a+"ms",!a&&g.isBadAndroid&&(this.scrollerStyle[g.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(a){this.scrollerStyle[g.style.transitionTimingFunction]=a},_translate:function(i,a){this.options.useTransform?this.scrollerStyle[g.style.transform]="translate("+i+"px,"+a+"px)"+this.translateZ:(i=c.round(i),a=c.round(a),this.scrollerStyle.left=i+"px",this.scrollerStyle.top=a+"px"),this.x=i,this.y=a},_initEvents:function(e){var a=e?g.removeEvent:g.addEvent,j=this.options.bindToWrapper?this.wrapper:f;a(f,"orientationchange",this),a(f,"resize",this),this.options.click&&a(this.wrapper,"click",this,!0),this.options.disableMouse||(a(this.wrapper,"mousedown",this),a(j,"mousemove",this),a(j,"mousecancel",this),a(j,"mouseup",this)),g.hasPointer&&!this.options.disablePointer&&(a(this.wrapper,g.prefixPointerEvent("pointerdown"),this),a(j,g.prefixPointerEvent("pointermove"),this),a(j,g.prefixPointerEvent("pointercancel"),this),a(j,g.prefixPointerEvent("pointerup"),this)),g.hasTouch&&!this.options.disableTouch&&(a(this.wrapper,"touchstart",this),a(j,"touchmove",this),a(j,"touchcancel",this),a(j,"touchend",this)),a(this.scroller,"transitionend",this),a(this.scroller,"webkitTransitionEnd",this),a(this.scroller,"oTransitionEnd",this),a(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,a,j=f.getComputedStyle(this.scroller,null);return this.options.useTransform?(e=+((j=j[g.style.transform].split(")")[0].split(", "))[12]||j[4]),a=+(j[13]||j[5])):(e=+j.left.replace(/[^-\d.]/g,""),a=+j.top.replace(/[^-\d.]/g,"")),{x:e,y:a}},_animate:function(p,x,o,v){var y=this,j=this.x,n=this.y,q=g.getTime(),w=q+o;this.isAnimating=!0,function k(){var e,l,i,a=g.getTime();if(a>=w){return y.isAnimating=!1,y._translate(p,x),void (y.resetPosition(y.options.bounceTime)||y._execEvent("scrollEnd"))}i=v(a=(a-q)/o),e=(p-j)*i+j,l=(x-n)*i+n,y._translate(e,l),y.isAnimating&&h(k)}()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},b.utils=g,"undefined"!=typeof module&&module.exports?module.exports=b:f.IScroll=b}(window,document,Math);var ZUL=new function(){var ay={scriptLocation:function(){var a=document.getElementsByTagName("script");return a[a.length-1].src.split("?")[0].split("/").slice(0,-1).join("/")+"/"}(),menuShowDelay:333,menuHideDelay:333,featuredSites:["zam","wowhead","hearthhead","lolking","dayzdb","destinydb"],sites:[{id:"zam",name:"Gaming News & Info",domain:"www.zam.com",title:"ZAM News"},{id:"dayzdb",name:"DayZDB",domain:"dayzdb.com"},{id:"destinydb",name:"DestinyDB",domain:"www.destinydb.com"},{id:"dotaoutpost",name:"Dota Outpost",domain:"www.dotaoutpost.com",title:"Dota 2 Trading"},{id:"esohead",name:"Esohead",domain:"www.esohead.com"},{id:"hearthhead",name:"Hearthhead",domain:"www.hearthhead.com"},{id:"lolking",name:"LolKing",domain:"www.lolking.net"},{id:"opshead",name:"Opshead",domain:"opshead.com",title:"Call of Duty News and Data"},{id:"tf2outpost",name:"TF2 Outpost",domain:"www.tf2outpost.com",title:"TF2, Dota 2, and Steam Trading"},{id:"wowhead",name:"Wowhead",domain:"www.wowhead.com"},{id:"xivdb",name:"XIVDB",domain:"www.xivdb.com"},{id:"eq",name:"EverQuest",domain:"everquest.allakhazam.com"},{id:"eq2",name:"EverQuest 2",domain:"eq2.zam.com"},{id:"ffxi",name:"Final Fantasy XI",domain:"ffxi.allakhazam.com"},{id:"ffxiv",name:"Final Fantasy XIV",domain:"ffxiv.zam.com"}]},ak=!1,au={},ap={mobile:!1,mobileScrollSetUp:!1,mouseOver:!1,iScroll:null,submenuCount:0,submenuTier:0,submenuTiers:[],timers:{menuExpand:null,menuExpandComplete:null,menuOut:null,menuOutPost:null,menuOverPost:null,mobileMenuToggle:null}};this.setOptions=function(a){if("object"==typeof a){"object"!=typeof ak&&(ak={});for(var b in a){a.hasOwnProperty(b)&&(ak[b]=a[b])}!function(){var c="zul-bar-stylesheet";if(!document.getElementById(c)){var e=ay.scriptLocation+"zul.css";if((!ak.hasOwnProperty("loadStylesSynchronously")||ak.loadStylesSynchronously)&&/in/.test(document.readyState)){return void document.write('<link rel="stylesheet" type="text/css" href="'+e+'" id="'+c+'">')}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.href=e,d.id=c,document.getElementsByTagName("head")[0].appendChild(d)}(function(){})}()}},this.closeMobileMenu=function(){Q()},this.addToMenu=function(b,a,c){ak.states||(ak.states={}),ak.states.universal||(ak.states.universal={}),ak.states.universal.content||(ak.states.universal.content=[]),b instanceof Array?ak.states.universal.content=ak.states.universal.content.concat(b):"object"==typeof b&&ak.states.universal.content.push(b),ZUL.regenerateMenu(a,c)},this.regenerateMenu=function(b,a){Q(),("boolean"!=typeof b||b)&&av(au.barInner),au.mobileMenu&&("boolean"!=typeof a||a)&&am(au.barMobile)},this.setMobileMode=function(a){return ap.mobile!==Boolean(a)&&(af(a),!0)},this.init=function(a){"object"==typeof a&&ZUL.setOptions(a),ao()};function ao(){if(document.body){au.bar&&(au.barMobile=null,au.bar.parentElement.removeChild(au.bar)),au.bar=document.createElement("div"),au.bar.id=au.bar.className="zul-bar",au.bar.setAttribute("data-mobile","false");var a=!1;"function"==typeof ak.mobileLoadCheck?ak.mobileLoadCheck()&&(a=!0):ak.mobileLoadCheck&&(a=!0),af(a),au.barInner=document.createElement("div"),au.barInner.id=au.barInner.className="zul-bar-inner",function(b){au.sitesDropown&&au.sitesDropown.parentNode.removeChild(au.sitesDropown);au.sitesDropown=document.createElement("div"),au.sitesDropown.id=au.sitesDropown.className="zul-bar-sites",au.zamLogo=document.createElement("a"),au.zamLogo.id=au.zamLogo.className="zul-bar-zam-logo",au.zamLogo.href="https://www.zam.com/",au.zamLogo.title="The world's largest MMO gaming network",au.sitesDropown.appendChild(au.zamLogo),au.dropdownCover=document.createElement("div"),au.dropdownCover.id=au.dropdownCover.className="zul-bar-sites-list-cover",au.sitesDropown.appendChild(au.dropdownCover),function(p){var f=document.createElement("ul");f.id=f.className="zul-bar-sites-list",ad(au.sitesDropown,"mouseover",function(){ap.mouseOver=!0,ap.timers.menuOut?(j("menuOver"),j("menuOut"),j("menuOutPost"),Z()):ap.timers.menuOver=setTimeout(function(){Z()},ay.menuShowDelay)}),ad(au.sitesDropown,"mouseout",function(){ap.mouseOver=!1,ap.timers.menuOut=setTimeout(function(){!function(){j("menuOver"),j("menuOut"),j("menuOverPost");var c=document.getElementById("zul-bar-sites");c.className=c.className.replace(/ *animate\b/g,""),ap.timers.menuOutPost=setTimeout(function(){c.className=c.className.replace(/ *animate\b/g,""),c.className=c.className.replace(/ *show\b/g,""),j("menuExpand"),j("menuExpandComplete");var d=document.getElementById("zul-bar-sites-extra");d.className=d.className.replace(/ *animate-complete\b/g,""),d.className=d.className.replace(/ *animate\b/g,""),d.className=d.className.replace(/ *show\b/g,"")},151)}()},ay.menuHideDelay)}),aj(f,"Featured Sites","featured");for(var n,u=0;n=ay.featuredSites[u];u++){var e=ac(n);aq(f,e)}if(!ay.featuredSites.indexOf){return void p.appendChild(f)}var g=document.createElement("li");g.id=g.className="zul-bar-sites-extra";var m=document.createElement("div");m.id=m.className="zul-bar-sites-extra-placeholder",m.innerHTML="<span>View All <b>ZAM Network</b> Sites</span>",ad(m,"mousedown",function(){return !1}),ad(m,"click",function(){var c=document.getElementById("zul-bar-sites-extra");c.className+=" show",ap.timers.menuExpand=setTimeout(function(){c.className+=" animate",setTimeout(function(){ap.timers.menuExpandComplete=c.className+=" animate-complete"},150)},1)}),g.appendChild(m);var i=document.createElement("ul");aj(i,"More Sites","more");for(var k=0;e=ay.sites[k];k++){-1==ay.featuredSites.indexOf(e.id)&&aq(i,e)}g.appendChild(i),f.appendChild(g),p.appendChild(f)}(au.sitesDropown),b.appendChild(au.sitesDropown)}(au.barInner),av(au.barInner),au.bar.appendChild(au.barInner),document.body.insertBefore(au.bar,document.body.firstChild),document.body.className+=" has-zul-bar"+(ak.bodyIsRelative?" zul-bar-relative-to-body":""),aC(),function(){ad(window,"resize",aC);(function(){})}(),"function"==typeof ak.onCreateBar&&ak.onCreateBar()}else{setTimeout(ao,5)}}function aC(){var a=!1;switch(typeof ak.mobileWidthCheck){case"function":a=ak.mobileWidthCheck();break;case"number":a=K()<ak.mobileWidthCheck;break;case"undefined":if(!ak.mobileOverlapCheck){return}break;default:a=ak.mobileWidthCheck}!a&&ak.mobileOverlapCheck&&document.getElementById("zul-bar-sites-list-cover").offsetWidth+document.getElementById("zul-bar-user").offsetWidth+10>K()&&(a=!0),af(a)}function al(){au.barMobile||(au.barMobile=document.createElement("div"),au.barMobile.id=au.barMobile.className="zul-bar-mobile",au.barMobile.className+=" zul-bar-mobile-top-menu",au.barMobile.setAttribute("data-tier","0"),function(a){au.mobileMenuButton&&au.mobileMenuButton.parentNode.removeChild(au.mobileMenuButton);au.mobileMenuButton=document.createElement("div"),au.mobileMenuButton.id=au.mobileMenuButton.className="zul-bar-mobile-menu-button",au.mobileMenuButtonLink=document.createElement("a"),ad(au.mobileMenuButtonLink,"click",ag),au.mobileMenuButton.appendChild(au.mobileMenuButtonLink),a.appendChild(au.mobileMenuButton)}(au.barMobile),function(b){au.mobileBarContent&&(au.mobileBarContent.parentNode.removeChild(au.mobileBarContent),au.mobileBarContent=null);var a=function(){au.mobileBarContent||(au.mobileBarContent=document.createElement("div"),au.mobileBarContent.id=au.mobileBarContent.className="zul-bar-mobile-content")},d=U(),c=J();c.mobileBarPre&&(a(),ax(au.mobileBarContent,c.mobileBarPre));d.mobileBarPre&&(a(),ax(au.mobileBarContent,d.mobileBarPre,!0));c.mobileBarContent&&(a(),ax(au.mobileBarContent,c.mobileBarContent));d.mobileBarPost&&(a(),ax(au.mobileBarContent,d.mobileBarPost,!0));c.mobileBarPost&&(a(),ax(au.mobileBarContent,c.mobileBarPost));au.mobileBarContent&&b.appendChild(au.mobileBarContent)}(au.barMobile),am(au.barMobile),au.bar.appendChild(au.barMobile),"function"==typeof ak.onCreateMobileBar&&ak.onCreateMobileBar())}function am(a){au.mobileMenu&&au.mobileMenu.parentNode.removeChild(au.mobileMenu),au.mobileMenu=document.createElement("div"),au.mobileMenu.id=au.mobileMenu.className="zul-bar-mobile-menu",au.mobileMenuList=ar(),az(au.mobileMenuList.firstChild,!0);au.mobileMenu.appendChild(au.mobileMenuList),a.appendChild(au.mobileMenu),function(){au.mobileMenuBackRow&&au.mobileMenuBackRow.parentNode.removeChild(au.mobileMenuBackRow);au.mobileMenuBackRow=document.createElement("div"),au.mobileMenuBackRow.id=au.mobileMenuBackRow.className="zul-bar-mobile-menu-back-row",au.mobileMenuBackButton=document.createElement("a"),au.mobileMenuBackButton.innerHTML=ak.mobileBackText||"Back",au.mobileMenuBackButton.id=au.mobileMenuBackButton.className="zul-bar-mobile-menu-back-button",au.mobileMenuBackButton.onclick=G,au.mobileMenuBackRow.appendChild(au.mobileMenuBackButton),au.mobileMenuBackTitle=document.createElement("div"),au.mobileMenuBackTitle.id=au.mobileMenuBackTitle.className="zul-bar-mobile-menu-back-title",au.mobileMenuBackTitleText=document.createElement("span"),au.mobileMenuBackTitleText.id=au.mobileMenuBackTitleText.className="zul-bar-mobile-menu-back-title-text",au.mobileMenuBackTitle.appendChild(au.mobileMenuBackTitleText),au.mobileMenuBackRow.appendChild(au.mobileMenuBackTitle),ak.mobileHeader&&(au.mobileMenuBackHeader=document.createElement("ul"),au.mobileMenuBackHeader.id="zul-bar-mobile-menu-back-header",au.mobileMenuBackHeader.className=au.mobileMenuBackHeader.id+" zul-bar-mobile-menu-list",ax(au.mobileMenuBackHeader,ak.mobileHeader,!0),au.mobileMenuBackRow.appendChild(au.mobileMenuBackHeader),au.barMobile.className+=" zul-bar-mobile-menu-has-mobile-header");au.barMobile.appendChild(au.mobileMenuBackRow)}()}function ar(c,b){var a=document.createElement("div");a.className="zul-bar-mobile-menu-list-wrapper",a.id=a.className+(c?"-"+c:""),a.setAttribute("data-tier",b||0),a.style.left=aa(b?1:0);var d=document.createElement("ul");return d.className="zul-bar-mobile-menu-list",d.id=d.className+(c?"-"+c:""),a.appendChild(d),a}function aA(){var a=document.createElement("li");return a.className="zul-bar-mobile-row",a}function aj(c,b,a){var d=document.createElement("li");d.className="zul-bar-sites-list-heading",a&&(d.id=d.className+"-"+a),d.innerHTML=b,c.appendChild(d)}function aq(d,c){var f=document.createElement("a");f.id=f.className="zul-bar-sites-list-"+c.id,c.title&&(f.title=c.title),f.href="http://"+c.domain+"/",f.innerHTML=c.name,f.style.backgroundImage="url("+ay.scriptLocation+"icons/sites/"+c.id+".png)";var e=document.createElement("li");e.className="zul-bar-sites-list-item";var b="zul-bar-site-"+c.id;e.className+=" "+b,e.id=b,e.appendChild(f),d.appendChild(e)}function av(b){au.userArea&&au.userArea.parentNode.removeChild(au.userArea),au.userArea=document.createElement("div"),au.userArea.id=au.userArea.className="zul-bar-user";var a=U();a.name&&(au.userArea.className+=" zul-bar-user-"+a.name),az(au.userArea,!1),b.appendChild(au.userArea)}function az(c,b){var a=U(),d=J();ax(c,d.pre,b),ax(c,a.pre,b),ax(c,d.content,b),ax(c,a.post,b),ax(c,d.post,b)}function an(f,c,h){var g=document.createElement("form");g.id="zul-bar-form-"+c.name,g.className="zul-bar-form "+g.className,"function"==typeof c.action?g.action=c.action(f,ak,h,c):g.action=c.action||"/","function"==typeof g.method?g.method=c.method(f,ak,h,c):g.method=c.method||"post";for(var b,d=0;b=c.fields[d];d++){aB(g,b,h,c)}f.appendChild(g)}function aB(y,w,k,g){var B=!1,D="input",b={};switch(w.type){case"text":b.type="text","function"==typeof w.label?b.placeholder=w.label(y,ak,k,w):w.label?b.placeholder=w.label:"function"==typeof w.placeholder?b.placeholder=w.placeholder(y,ak,k,w):w.placeholder&&(b.placeholder=w.placeholder),"function"==typeof w.value?b.value=w.value(y,ak,k,w):w.value&&(b.value=w.value);break;case"password":b.type="password","function"==typeof w.label?b.placeholder=w.label(y,ak,k,w):w.label?b.placeholder=w.label:"function"==typeof w.placeholder?b.placeholder=w.placeholder(y,ak,k,w):w.placeholder&&(b.placeholder=w.placeholder),"function"==typeof w.value?b.value=w.value(y,ak,k,w):w.value&&(b.value=w.value);break;case"checkbox":b.type="checkbox",B="function"==typeof w.label?w.label(y,ak,k,w):w.label,"function"==typeof w.checked?b.checked=w.value(y,ak,k,w):w.checked&&(b.checked="checked");break;case"hidden":D="hidden","function"==typeof w.value?b.value=w.value(y,ak,k,w):b.value=w.value;break;case"button":D="button","function"==typeof w.typeHTML?b.type=w.typeHTML(y,ak,k,w):w.typeHTML?b.type=w.typeHTML:b.type="button","function"==typeof w.label?b.innerHTML=w.label(y,ak,k,w):b.innerHTML=w.label;break;case"link":return ai(y,w,!0,k);default:return alert("Invalid element type passed to ZUL bar: "+w.type),!1}for(var v,A=["click","mouseover","mouseout","change","keyup","keydown","focus","blur"],C=["name","innerHTML"].concat(A),t=0;v=C[t];t++){w.hasOwnProperty(v)&&(["name","innerHTML"].indexOf(v)>-1&&"function"==typeof w[v]?b[v]=w[v](y,ak,k,w):b[v]=w[v])}b.id="zul-bar-form-"+g.name+"-"+w.name,b.className="zul-bar-form-"+w.type,"function"==typeof w.className?b.className+=" "+w.className(y,ak,k,w):w.className&&(b.className+=" "+w.className);var x=document.createElement(D);for(var z in b){b.hasOwnProperty(z)&&(A.indexOf(z)>-1&&"function"==typeof b[z]?ad(x,z,b[z]):x[z]=b[z])}if(y.appendChild(x),B){var f=document.createElement("label");f.id=f.className=b.id+"-postlabel",f.className="zul-bar-form-postlabel zul-bar-form-"+w.type+"-postlabel "+f.className,f.htmlFor=x.id,f.innerHTML=B,ad(f,"mousedown",function(){return !1}),y.appendChild(f)}return !0}function ax(f,c,h){if(c instanceof Array&&c.length){c=function(t,l,v){for(var u,k=[],m=0;u=l[m];m++){if("concatenation"==u.type){var p=u.content(t,ak,v);p&&(k=k.concat(p))}else{k.push(u)}}return k}(f,c,h);for(var g,b=0;g=c[b];b++){if("function"!=typeof g.condition||g.condition(f,ak,h)){if(h){switch(g.type){case"link":ai(d=aA(),g,!1,h),f.appendChild(d);break;case"form":an(d=aA(),g,h),f.appendChild(d);break;case"custom":if("function"==typeof g.custom){var d=aA();g.custom(d,ak,h),f.appendChild(d)}break;case"sites":ai(d=aA(),V(g),!1,h),f.appendChild(d)}}else{switch(g.type){case"link":ai(f,g,!1,h);break;case"form":an(f,g,h);break;case"custom":"function"==typeof g.custom&&g.custom(f,ak,h)}}}}}}function ai(L,B,A,P){var w=document.createElement("a");if(w.className="zul-bar-"+(P?"mobile":"user")+"-item-"+(A?"form-":"")+B.name,"function"==typeof B.id){var x=B.id(L,ak,P,B);x&&(w.id=x)}else{B.id&&(w.id=aD(B.id))}if("function"==typeof B.innerHTML?w.innerHTML=B.innerHTML(L,ak,P,B):B.innerHTML?w.innerHTML=aD(B.innerHTML):"function"==typeof B.text?w.appendChild(document.createTextNode(B.text(L,ak,P,B))):B.text&&w.appendChild(document.createTextNode(aD(B.text))),"function"==typeof B.href){var D=B.href(L,ak,P,B);D&&(w.href=D)}else{B.href&&(w.href=aD(B.href))}"function"==typeof B.heading?B.heading(L,ak,P,B)&&(w.className+=" zul-bar-"+(P?"mobile":"user")+"-heading"):B.heading&&(w.className+=" zul-bar-"+(P?"mobile":"user")+"-heading"),"function"==typeof ak.mobileIconSpacing?ak.mobileIconSpacing(L,ak,P,B)&&(w.className+=" zul-bar-icon-spacing"):ak.mobileIconSpacing&&(w.className+=" zul-bar-icon-spacing");var N=!1;if(B.checked){switch(typeof B.checked){case"function":B.checked(L,ak,P,B)&&(w.className+=" zul-bar-checked",N=!0);break;case"string":location.href.match(B.checked)&&(w.className+=" zul-bar-checked",N=!0);break;default:w.className+=" zul-bar-checked",N=!0}}if(!N){if(B.imageIcon){"function"==typeof B.imageIcon&&(B.imageIcon=B.imageIcon(L,ak,P,B));var t;"object"!=typeof B.imageIcon?t=B.imageIcon:!P&&B.imageIcon.desktop||!B.imageIcon.universal&&B.imageIcon.enlargeForMobile?t=B.imageIcon.desktop:P&&B.imageIcon.mobile?t=B.imageIcon.mobile:B.imageIcon.universal&&(t=B.imageIcon.universal),t&&(w.style.backgroundImage="url("+t+")",w.className+=" zul-bar-has-image-icon"),P&&B.imageIcon.enlargeForMobile&&(w.className+=" zul-bar-enlarge-image-icon")}var C=!1;if("function"==typeof B.fontIcon){var E=B.fontIcon(L,ak,P,B);E&&(C=E)}else{B.fontIcon&&(C=B.fontIcon)}if(C){w.className+=" zul-bar-has-fa";var M=document.createElement("i");M.className="fa fa-fw fa-"+C,w.insertBefore(M,w.firstChild)}}if("function"==typeof B.className){var z=B.className(L,ak,P,B);z&&(w.className+=" "+z)}else{B.className&&(w.className+=" "+B.className)}for(var O,I=!1,k=0;O=["click","mouseover","mouseout"][k];k++){B[O]&&("tap"==O||P&&"click"==O&&(!B.hasOwnProperty("tap")||"boolean"==typeof B.tap&&B.tap)?(ad(w,"tap",function(b,a){ae(this),setTimeout(function(){b.call(this,a)},1)}.bind(w,B[O])),I=!0):ad(w,O,P&&"click"==O?function(b,a){ae(this),setTimeout(function(){b.call(this,a)},1)}.bind(w,B[O]):B[O]))}if(P&&!I&&(!B.hasOwnProperty("tap")||"boolean"==typeof B.tap&&B.tap)&&"string"==typeof B.href&&"#"!=B.href.charAt(0)&&"javascript:"!=B.href.substring(0,11)&&(ad(w,"tap",function(b){var a=b.target;ae(a),setTimeout(function(){window.location=a.href},1)}),I=!0),I&&(w.className+=" has-tap-event"),L.appendChild(w),P&&B.menu&&B.menu.mobile){"function"==typeof B.menu.mobile&&(B.menu.mobile=B.menu.mobile());var i;if("function"==typeof B.mobileMenuText?i=B.mobileMenuText(au.mobileMenuBackTitleText,ak,P,B):B.mobileMenuText?i=aD(B.mobileMenuText):"function"==typeof B.innerHTML?i=B.innerHTML(au.mobileMenuBackTitleText,ak,P,B):B.innerHTML?i=B.innerHTML:"function"==typeof B.text?i=q(B.text(au.mobileMenuBackTitleText,ak,P,B)):B.text&&(i=q(B.text)),I){L.className+=" zul-mobile-menu-action-with-submenu";var H=document.createElement("a");H.className="zul-mobile-menu-submenu-arrow has-tap-event",ad(H,"tap",ab.bind(H,i,B.menu.mobile)),L.appendChild(H)}else{L.className+=" zul-mobile-menu-has-submenu",w.className+=" has-tap-event",ad(w,"tap",ab.bind(w,i,B.menu.mobile))}}}function af(a){a?(al(),ap.mobile=!0,au.bar.setAttribute("data-mobile","true"),document.body.className+=" has-mobile-zul-bar","function"==typeof ak.mobileIncreasedSize?ak.mobileIncreasedSize()&&(document.body.className+=" enlarge-mobile-zul-bar"):ak.mobileIncreasedSize&&(document.body.className+=" enlarge-mobile-zul-bar")):(ap.mobile=!1,au.bar.setAttribute("data-mobile","false"),document.body.className=document.body.className.replace(/ *has-mobile-zul-bar\b/g,"").replace(/ *enlarge-mobile-zul-bar\b/g,""))}function aw(d,c){var g;if(document.querySelectorAll){if(g=document.querySelectorAll((c||"#zul-bar-mobile-menu-list")+" .zul-bar-mobile-menu-active")){for(var f=0;b=g[f];f++){b.className=b.className.replace(/ *zul-bar-mobile-menu-active\b/g,"")}}}else{if(g=(d||au.mobileMenuList).getElementsByTagName("a")){var b;for(f=0;b=g[f];f++){b.className&&b.className.indexOf("zul-bar-mobile-menu-active")&&(b.className=b.className.replace(/ *zul-bar-mobile-menu-active\b/g,""))}}}}function F(h){var d=h?-1:1;if(ap.submenuTier+d>0){return !1}ah(),ap.submenuTier=ap.submenuTier+d,h||ap.submenuTiers.pop(),function(){var a=ap.submenuTiers[-1*ap.submenuTier-1];a&&(au.mobileMenuBackTitleText.innerHTML=a)}(),au.barMobile.setAttribute("data-tier",ap.submenuTier),0==ap.submenuTier?au.barMobile.className+=" zul-bar-mobile-top-menu":au.barMobile.className=au.barMobile.className.replace(/ *zul-bar-mobile-top-menu\b/g,"");for(var i,c=au.mobileMenu.childNodes,f=[],g=0;i=c[g];g++){var b=parseInt(i.getAttribute("data-tier"))+d;b>0?(i.setAttribute("data-tier","1"),i.style.left=aa(ap.submenuTier),setTimeout(function(a){a.parentNode.removeChild(a)}.bind(null,i),251)):(0==b&&(i.style.height="100%"),f.push(i),setTimeout(function(k,a){k.setAttribute("data-tier",a),k.style.left=aa(ap.submenuTier)}.bind(null,i,b),51))}return h||aw(c[c.length-2],"#"+c[c.length-2].id),function(l,k){var a=l.scrollTop/(k/15),p=l.scrollLeft/(k/15),m=setInterval(function(){0!=l.scrollTop||0!=l.scrollLeft?(l.scrollTop=Math.max(0,l.scrollTop-a),l.scrollLeft=Math.max(0,l.scrollLeft-p)):clearInterval(m)},15)}(au.mobileMenu,250),setTimeout(function(l){for(var k,a=0;k=l[a];a++){a!=l.length-1&&(k.style.height="10px")}at(l[l.length-1])}.bind(null,f),251),!0}function R(){if(au.mobileMenu){for(var b,a=au.mobileMenu.childNodes,c=0;b=a[c];c++){c>0?b.parentNode.removeChild(b):(b.setAttribute("data-tier","0"),b.style.left=aa(0))}ap.submenuTiers=[],ap.submenuTier=0,au.barMobile.setAttribute("data-tier","0"),au.barMobile.className+=" zul-bar-mobile-top-menu"}}function ah(){ap.iScroll&&(ap.iScroll.destroy(),ap.iScroll=null)}function at(a){ah(),ap.iScroll=new IScroll(a,{mouseWheel:!0,tap:!0})}function Z(){if(ap.mouseOver){j("menuOver"),j("menuOut"),j("menuOutPost");var a=document.getElementById("zul-bar-sites");a.className+=" show",ap.timers.menuOverPost=setTimeout(function(){a.className+=" animate"},1)}}function ag(){ap.mobileMenuShown?Q():function(){j("mobileMenuToggle"),j("mobileMenuToggleCallback"),"function"==typeof ak.onShowMobileBarStart&&ak.onShowMobileBarStart();var a=document.getElementById("zul-bar-mobile-menu-list-wrapper");a.style.height="100%",au.fade||(au.fade=document.createElement("div"),au.fade.id=au.fade.className="zul-bar-fade",ad(au.fade,"click",ag),au.bar.appendChild(au.fade));document.body.className+=" zul-mobile-show-menu",ap.timers.mobileMenuToggle=setTimeout(function(){document.body.className+=" zul-mobile-animate-menu"},1),"function"==typeof ak.onShowMobileBarEnd&&(ap.timers.mobileMenuToggleCallback=setTimeout(function(){ak.onShowMobileBarEnd()},152));(function(){if(!ap.mobileScrollSetUp){var b=function(c){ap.mobileMenuShown&&(document.getElementById("zul-bar-mobile").contains(c.target)||c.preventDefault())};ad(document.body,"touchmove",b),ad(document.body,"mousewheel",b),ap.mobileScrollSetUp=!0}})(),at(a),ap.mobileMenuShown=!0}()}function Q(){j("mobileMenuToggle"),j("mobileMenuToggleCallback"),"function"==typeof ak.onHideMobileBarStart&&ak.onHideMobileBarStart(),ah(),au.fade&&(au.fade.parentNode.removeChild(au.fade),au.fade=null);var a=document.body;a.className=a.className.replace(/ *zul-mobile-animate-menu\b/g,""),ap.timers.mobileMenuToggle=setTimeout(function(){a.className=a.className.replace(/ *zul-mobile-animate-menu\b/g,"").replace(/ *zul-mobile-show-menu\b/g,""),aw(),R(),"function"==typeof ak.onHideMobileBarEnd&&ak.onHideMobileBarEnd()},251),ap.mobileMenuShown=!1,R()}function ae(b){var a=function(d,c){for(;d.parentNode;){if(d.parentNode.tagName==c.toUpperCase()){return d.parentNode}d=d.parentNode}return null}(b,"ul");aw(a,"#"+a.id),b.className+=" zul-bar-mobile-menu-active"}function ab(b,a){ap.submenuTiers.push(b),ae(this),setTimeout(function(){!function(d){ap.submenuCount++;var c=ar(ap.submenuCount,1);ax(c.firstChild,d,!0),au.mobileMenu.appendChild(c),F(!0)}(a)},1)}function G(){F(!1)}function ac(b){for(var a,c=0;a=ay.sites[c];c++){if(a.id==b){return a}}return null}function U(){if(!ak.state){return{}}var a={name:ak.state};return function(d,c){if(d&&"object"==typeof d[c.name]){for(var b in d[c.name]){d[c.name].hasOwnProperty(b)&&(c[b]=d[c.name][b])}}return c}(ak.states,a)}function J(){return ak.states&&ak.states&&ak.states.universal?ak.states.universal:{}}function V(d){var c={type:"link",menu:{mobile:[]}};d.innerHTML?c.innerHTML=d.innerHTML:d.text?c.text=d.text:c.text="ZAM Sites";for(var h,g,b="boolean"!=typeof d.enlargeForMobile||d.enlargeForMobile,e=0;g=ay.featuredSites[e];e++){h=ac(g),c.menu.mobile.push(W(h,b))}c.menu.mobile.push({type:"link",name:"more-sites",text:"More Sites",heading:!0});for(var f=0;h=ay.sites[f];f++){-1==ay.featuredSites.indexOf(h.id)&&c.menu.mobile.push(W(h,b))}return c}function W(b,a){return{type:"link",text:b.name,href:"http://"+b.domain+"/",title:b.title,imageIcon:{universal:ay.scriptLocation+"icons/sites/"+b.id+".png",enlargeForMobile:a}}}function aa(a){return 100*parseInt(a)+"%"}function aD(a){return a.indexOf("%")>-1?function(d,c){if(!c){return d}for(var b in c){c.hasOwnProperty(b)&&(d=d.replace("%"+b.toUpperCase()+"%",c[b]))}return d}(a,ak.user):a}function K(){var b=window.getComputedStyle(document.body,null).getPropertyValue("padding-left")||0,a=window.getComputedStyle(document.body,null).getPropertyValue("padding-right")||0;return document.body.clientWidth+parseInt(b)+parseInt(a)}function ad(c,b,a,d){c.addEventListener?c.addEventListener(b,a,d):c.attachEvent&&c.attachEvent("on"+b,a)}function q(a){return au.htmlEscaper||(au.htmlEscaper=document.createElement("div")),au.htmlEscaper.innerHTML="",au.htmlEscaper.appendChild(document.createTextNode(a)),au.htmlEscaper.innerHTML}function j(a){clearTimeout(ap.timers[a]),ap.timers[a]=null}};